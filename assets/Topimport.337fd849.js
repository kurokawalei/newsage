var t=Object.defineProperty,e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(e,o,l)=>o in e?t(e,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[o]=l,a=(t,a)=>{for(var i in a||(a={}))o.call(a,i)&&s(t,i,a[i]);if(e)for(var i of e(a))l.call(a,i)&&s(t,i,a[i]);return t};import{_ as i}from"./topModalA.6c0a76a5.js";import{r as d,o as r,c,f as n,k as p,F as u,i as m,t as h,g as f}from"./vendor.b56b0b3d.js";import"./modal.06a721ec.js";const g={data:()=>({isLoading:!1,products:[],tempProduct:{imagesUrl:[]},isNew:!1}),methods:{getTopList(){this.isLoading=!0,this.$http("https://apilan.news-age.tw/life/lifeA").then((t=>{setTimeout((()=>{this.isLoading=!1}),1e3),this.products=t.data,console.log(this.products)})).catch((t=>{console.log(t)}))},openModal(t,e){"add"===t?(this.tempProduct={},this.isNew=!0,this.$refs.productModal.openModal()):"edit"===t&&(this.tempProduct=a({},e),this.isNew=!1,this.$refs.productModal.openModal())},delItem(t){this.tempProduct=a({},t);confirm(`刪除（${this.tempProduct.title}）?`)?(alert("你按了確定按鈕"),console.log(this.tempProduct)):alert("你按了取消按鈕")}},components:{ProductModal:i},mounted(){this.getTopList()}},b=n("div",{class:"text-center mt-3 mb-3"},[n("h2",null,"台中腔-最新熱門版")],-1),w={class:"container-fluid"},y={class:"text-end mt-4"},v=f(" 建立新的文章 "),P={class:"table"},M=n("thead",null,[n("tr",null,[n("th",{scope:"col",class:"text-center"},"ID"),n("th",{scope:"col"},"圖片"),n("th",{scope:"col"},"標題"),n("th",{scope:"col"}),n("th",{scope:"col"})])],-1),L={scope:"row",class:"text-center"},j={width:"300"},k={width:"50"},O=f("編輯"),x={width:"50"},C=f("刪除");g.render=function(t,e,o,l,s,a){const i=d("Loading"),f=d("el-button"),g=d("product-modal");return r(),c("div",null,[n(i,{active:s.isLoading},null,8,["active"]),b,n("div",w,[n("div",y,[n(f,{type:"primary",onClick:e[1]||(e[1]=t=>a.openModal("add"))},{default:p((()=>[v])),_:1})]),n("table",P,[M,n("tbody",null,[(r(!0),c(u,null,m(s.products,(t=>(r(),c("tr",{key:t.id},[n("th",L,h(t.id),1),n("td",j,[n("img",{src:t.image,class:"img-fluid"},null,8,["src"])]),n("td",null,h(t.title),1),n("td",k,[n(f,{plain:"",type:"primary",onClick:e=>a.openModal("edit",t)},{default:p((()=>[O])),_:2},1032,["onClick"])]),n("td",x,[n(f,{plain:"",type:"danger",onClick:e=>a.delItem(t)},{default:p((()=>[C])),_:2},1032,["onClick"])])])))),128))])])]),n(g,{ref:"productModal",product:s.tempProduct,"is-new":s.isNew,onGetData:a.getTopList},null,8,["product","is-new","onGetData"])])};export default g;
